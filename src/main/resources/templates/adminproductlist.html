<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–¥–º–∏–Ω—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</title>
</head>
<body>
<a href = "/app"><p>–ù–∞ –≥–ª–∞–≤–Ω—É—é</p></a>
<h2 th:text="${title}">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–¥–º–∏–Ω—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h2>
    <form th:each="product : ${products}"
          action="" th:action="@{/admin/products/save}"
          th:object="${product}" method="post">
        <input name="page" th:value="${page}" type="hidden"/>
        <input name="id" th:value="${product.id}" type="hidden"/>
        <input name = "title" th:value="${product.title}" type="text" required size="50"/>&nbsp-&nbsp
        <input name="rub" type="number" min="0" max="1000000" size="7" th:value="${costFormatter.getRub(product.cost)}"/>—Ä.&nbsp
        <input name="cop" type="number" min="0" max="99" size="5" th:value="${costFormatter.getCop(product.cost)}"/>–∫.
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        <a href="" th:href="@{'/admin/products/delete?id=' + ${product.id} + '&page=' + ${page}}">üóë</a>
    </form>
<p>
    <form action="" th:action="@{/admin/products/add}" method="post">
        <input name="page" th:value="${page}" type="hidden"/>
        <input name = "title" type="text" required size="50"/>&nbsp-&nbsp
        <input name="rub" type="number" min="0" max="1000000" size="7"/>—Ä.&nbsp
        <input name="cop" type="number" min="0" max="99" size="5"/>–∫.
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</button>
    </form>
</form>
</p>
<p>
    –°—Ç—Ä–∞–Ω–∏—Ü—ã:&nbsp
    <span th:each="n: ${#numbers.sequence(1, total_pages)}">
        <span th:unless="${n == page}">
            <a th:text="${n}" th:href="@{'/admin/products/' + ${link} + ${n}}"/>
        </span>
        <span th:if="${n == page}" th:text="${n}"/>
        &nbsp
    </span>
</p>
</body>
</html>